(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{448:function(s,a,t){"use strict";t.r(a);var e=t(2),n=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"聚簇索引和非聚簇索引"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#聚簇索引和非聚簇索引"}},[s._v("#")]),s._v(" 聚簇索引和非聚簇索引")]),s._v(" "),a("p",[s._v("索引本身也是一种数据结构，可以把索引当作新华字典的目录。新华字典目录就是一个索引列表， 列表中的每个元素就是一个索引，索引的key是每个汉字，索引的value是汉字对应的页码,通过这个页码可以快速定位到汉字所在的位置。\n在MySQL中，根据索引存储的信息，可以将索引划分成聚簇和非聚簇索引。")]),s._v(" "),a("ul",[a("li",[s._v("聚簇索引：索引存储的信息是记录的地址，即通过该索引可以直接确认数据存放的地址。常见的例如主键索引就是聚簇索引。")]),s._v(" "),a("li",[s._v("非聚簇索引：索引存储的信息是主键的值，即通过该索引查看记录时，需要再次回到主键对应的索引表中，才可以查询到记录的地址。")])]),s._v(" "),a("p",[s._v("所以对于聚簇索引和非聚簇索引而言，其主要区别在于非聚簇索引可能会存在回表查询。只所以说可能存在，可以通过下面例子说明。")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 数据表tName，包含ID、age、a和b列，其中ID是主键，a和b列建立了联合索引")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 下面SQL会回表查询")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" age "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" tName "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" a"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("and")]),s._v(" b"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 下面SQL不会回表查询")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" id "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" tName\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## SQL执行过程")]),s._v("\nMySQL会对提交的"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SQL")]),s._v("进行解析"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("优化"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("执行\n例如联合索引"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("c"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("，即使"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SQL")]),s._v("语句如果顺序是b、c、a条件，也会被优化器优化成使用联合索引的"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SQL")]),s._v("。\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## B树、B+树、B树有哪些操作")])])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])])])}),[],!1,null,null,null);a.default=n.exports}}]);